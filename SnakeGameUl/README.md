# Snake Game - Документация проекта

## Обзор проекта
Консольная игра "Змейка" на C#, реализованная с использованием принципов объектно-ориентированного программирования.

## Архитектура проекта

### Основные классы и их назначение

#### 1. **Program** - Главный класс приложения
- **Назначение**: Точка входа в приложение, управление игровым циклом
- **Ключевые методы**:
  - `Main()` - основной игровой цикл
  - `WriteGameOver()` - отображение экрана окончания игры
  - `WriteText()` - вспомогательный метод для вывода текста

#### 2. **Point** - Базовый элемент координат
- **Назначение**: Представляет точку на игровом поле с координатами и символом
- **Свойства**:
  - `x, y` - координаты точки
  - `sym` - символ для отображения
- **Методы**:
  - `Move()` - перемещение точки в заданном направлении
  - `Draw()` - отрисовка точки на консоли
  - `Clear()` - очистка точки с экрана
  - `IsHit()` - проверка столкновения с другой точкой

#### 3. **Direction** - Перечисление направлений
- **Назначение**: Определяет возможные направления движения
- **Значения**: LEFT, RIGHT, UP, DOWN

#### 4. **Figure** - Абстрактный базовый класс для фигур
- **Назначение**: Базовый класс для всех игровых объектов, состоящих из точек
- **Свойства**:
  - `pList` - список точек, составляющих фигуру
- **Методы**:
  - `Draw()` - отрисовка всей фигуры
  - `IsHit()` - проверка столкновения с другой фигурой

#### 5. **Snake** - Класс змейки (наследует Figure)
- **Назначение**: Управляет поведением змейки
- **Свойства**:
  - `direction` - текущее направление движения
- **Методы**:
  - `Move()` - перемещение змейки
  - `HandleKey()` - обработка нажатий клавиш
  - `Eat()` - поедание еды и рост
  - `IsHitTail()` - проверка столкновения с собственным хвостом
  - `GetNextPoint()` - получение следующей позиции головы

#### 6. **Player** - Класс игрока
- **Назначение**: Объединяет данные игрока, статистику и змейку
- **Свойства**:
  - `Name` - имя игрока
  - `Stats` - статистика игрока
  - `Snake` - змейка игрока

#### 7. **Stats** - Класс статистики
- **Назначение**: Управление статистикой игрока и таблицей лидеров
- **Свойства**:
  - `Name, Score, Length, HighScore, Level` - игровая статистика
- **Методы**:
  - `UpdateScore()` - обновление очков
  - `LoadStats()` / `SaveStats()` - загрузка/сохранение статистики
  - `SaveToLeaderboard()` - сохранение в таблицу лидеров
  - `ShowLeaderboard()` - отображение таблицы лидеров
  - `PrintStats()` - вывод текущей статистики

#### 8. **Walls** - Класс стен и препятствий
- **Назначение**: Управление границами игрового поля и препятствиями
- **Свойства**:
  - `wallList` - список всех стен и препятствий
- **Методы**:
  - `Draw()` - отрисовка всех стен
  - `IsHit()` - проверка столкновения со стенами
  - `AddObstacle()` - добавление препятствий

#### 9. **HorizontalLine** / **VerticalLine** - Классы линий (наследуют Figure)
- **Назначение**: Создание горизонтальных и вертикальных линий для стен

#### 10. **FoodCreator** - Генератор еды
- **Назначение**: Создание еды в случайных местах игрового поля
- **Методы**:
  - `CreateFood()` - создание новой еды в случайной позиции

#### 11. **MusicManager** - Менеджер звуков
- **Назначение**: Управление фоновой музыкой и звуковыми эффектами
- **Методы**:
  - `Initialize()` - инициализация звуковых файлов
  - `PlayMenuMusic()` / `StopMenuMusic()` - управление фоновой музыкой
  - `PlayEatSound()` / `PlayLoseSound()` - воспроизведение эффектов

## Игровой процесс

### Инициализация игры
1. Запуск фоновой музыки
2. Ввод имени игрока
3. Выбор уровня сложности (1-3)
4. Создание игрового поля, змейки и еды

### Основной игровой цикл
1. **Проверка столкновений**: стены или собственный хвост
2. **Обработка еды**: если змейка съела еду - рост и новая еда
3. **Движение**: перемещение змейки
4. **Управление скоростью**: ускорение по мере роста
5. **Обработка ввода**: изменение направления движения

### Уровни сложности
- **Уровень 1**: Медленная скорость (200ms), только границы
- **Уровень 2**: Средняя скорость (120ms), только границы  
- **Уровень 3**: Быстрая скорость (80ms) + препятствия на поле

### Система очков
- **+10 очков** за каждую съеденную еду
- **Длина змейки** увеличивается на 1
- **Скорость** увеличивается по формуле: `baseSpeed - (length - 4) * 3`
- **Минимальная скорость**: 30ms

## Файловая система
- `stats.txt` - сохранение статистики текущего игрока
- `leaderboard.txt` - таблица лидеров (имя,очки)
- `assets/` - папка со звуковыми файлами
  - `background.wav` - фоновая музыка
  - `eat.wav` - звук поедания еды
  - `death.wav` - звук поражения

## Управление
- **Стрелки** - изменение направления движения
- **Y/N** - повтор игры после окончания

## Особенности реализации
- Защита от разворота на 180° (змейка не может повернуть в противоположную сторону)
- Обработка исключений при выходе за границы консоли
- Динамическое изменение скорости игры
- Сохранение прогресса и таблицы лидеров
- Звуковое сопровождение